# ============================================
# CONFIGURATION AUTH_GROUPS - INFRASTRUCTURE OBLIGATOIRE
# ============================================
# Variables pour l'infrastructure de base et l'authentification
# Ce fichier doit être copié vers .env.auth_groups et configuré

# ============================================
# ENVIRONNEMENT ET API
# ============================================
APP_ENV=development
APP_DEBUG=true
APP_NAME=Collective Memories API
APP_VERSION=2.0.0
APP_URL=http://localhost/cmem2_API
BASE_URL=http://localhost:8000
API_VERSION=v1

# ============================================
# SÉCURITÉ ET CORS
# ============================================
# Domaines autorisés (séparés par des virgules)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:3000
ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With,Accept,Origin

# Rate limiting
ENABLE_RATE_LIMITING=true
MAX_REQUESTS_PER_MINUTE=60
ENABLE_REQUEST_LOGGING=true

# Mode maintenance
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=Application en maintenance. Veuillez réessayer plus tard.

# ============================================
# AUTHENTIFICATION ET JWT
# ============================================
# CHANGEZ CES CLÉS EN PRODUCTION !
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production_min_64_chars
JWT_ALGORITHM=HS256
JWT_EXPIRATION=86400

# Configuration de l'authentification
AUTH_AUTO_LOGOUT_BEFORE_LOGIN=true
AUTH_AUTO_LOGOUT_LOG_LEVEL=info
AUTH_AUTO_LOGOUT_ALL_TOKENS=false

# Tokens de validation
VALID_TOKEN_EXPIRATION=3600
VALID_TOKEN_CLEANUP_INTERVAL=1800

# Utilisateurs
MAX_USERNAME_LENGTH=50
MIN_PASSWORD_LENGTH=8
REQUIRE_EMAIL_VERIFICATION=true
MAX_CONCURRENT_SESSIONS=5
SESSION_TIMEOUT=3600

# ============================================
# GROUPES ET INVITATIONS
# ============================================
GROUP_INVITATION_EXPIRATION=604800
MAX_GROUP_MEMBERS=50
MAX_GROUPS_PER_USER=10

# ============================================
# BASE DE DONNÉES
# ============================================
DB_HOST=localhost
DB_NAME=cmem1_db
DB_USER=root
DB_PASS=
DB_PERSISTENT=false
DB_TIMEZONE=+00:00

# ============================================
# LOGS ET MONITORING
# ============================================
LOG_ENABLED=true
LOG_LEVEL=debug
LOG_DIR=logs/
LOG_MAX_FILE_SIZE=10485760
LOG_ARCHIVE_AFTER_DAYS=7
LOG_DELETE_AFTER_WEEKS=12
LOG_TIMEZONE=America/Toronto

# Rotation des logs
LOG_ROTATION_ENABLED=true
LOG_ROTATION_MAX_FILES=10
LOG_COMPRESS_ROTATED=true

# Logs de performance et sécurité
LOG_PERFORMANCE=false
LOG_SLOW_QUERIES=true
SLOW_QUERY_THRESHOLD=1.0
LOG_SECURITY_EVENTS=true
LOG_FAILED_LOGINS=true
LOG_SUSPICIOUS_ACTIVITY=true

# Email pour logs critiques
EMAIL_CRITICAL_LOGS=false
CRITICAL_LOG_EMAIL=
LOG_EMAIL_THRESHOLD=error

# ============================================
# UPLOADS DE BASE ET AVATARS
# ============================================
UPLOAD_DIR=uploads/
TMP_ASSETS_DIR=tmp_assets/
MAX_FILE_SIZE=10485760

# Avatars utilisateur
MAX_AVATAR_SIZE=2097152
AVATAR_MAX_WIDTH=400
AVATAR_MAX_HEIGHT=400
ALLOWED_AVATAR_TYPES=image/jpeg,image/png,image/webp

# Fichiers de groupes
MAX_GROUP_FILE_SIZE=10485760
MAX_FILES_PER_GROUP=100
ALLOWED_GROUP_DOCUMENT_TYPES=application/pdf,text/plain,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# Images de groupes
MAX_GROUP_IMAGE_SIZE=5242880
GROUP_IMAGE_MAX_WIDTH=1200
GROUP_IMAGE_MAX_HEIGHT=600

# ============================================
# TAGS ET CATÉGORIES
# ============================================
MAX_TAGS_PER_ITEM=10
MAX_TAG_LENGTH=50
MIN_TAG_LENGTH=2
MAX_TAG_CATEGORIES=20
MAX_CATEGORY_NAME_LENGTH=30

# Couleurs et permissions des tags
DEFAULT_TAG_COLORS=#007bff,#28a745,#ffc107,#dc3545,#6f42c1,#fd7e14,#20c997,#6c757d
ALLOW_CUSTOM_TAG_COLORS=true
ALLOW_USER_CREATE_TAGS=true
REQUIRE_TAG_APPROVAL=false
ALLOW_TAG_SUGGESTIONS=true

# Recherche de tags
TAG_SEARCH_MIN_LENGTH=1
TAG_SEARCH_MAX_RESULTS=50
ENABLE_TAG_AUTOCOMPLETE=true
TRACK_TAG_USAGE=true
TAG_TRENDING_PERIOD_DAYS=30
MAX_TRENDING_TAGS=20

# ============================================
# EMAIL (OPTIONNEL POUR DÉVELOPPEMENT)
# ============================================
MAIL_HOST=localhost
MAIL_PORT=1025
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_FROM_ADDRESS=dev@localhost
MAIL_FROM_NAME=Memories Dev

# ============================================
# TIMEZONE
# ============================================
APP_TIMEZONE=America/Montreal

# ============================================
# PRODUCTION - DÉCOMMENTEZ ET ADAPTEZ
# ============================================
# APP_ENV=production
# APP_DEBUG=false
# BASE_URL=https://votre-domaine.com
# JWT_SECRET=une_cle_jwt_tres_longue_et_securisee_pour_production_au_moins_64_caracteres
# DB_HOST=localhost
# DB_NAME=votre_db_production
# DB_USER=votre_user_production
# DB_PASS=votre_mot_de_passe_securise
# LOG_LEVEL=warning
# ALLOWED_ORIGINS=https://votre-domaine.com,https://www.votre-domaine.com